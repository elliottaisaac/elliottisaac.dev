
<!doctype html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8">
    
    <style>
      body {
        background-color: #000000;
        opacity: 0.9;
        background-image:  linear-gradient(135deg, #16144b 25%, transparent 25%), linear-gradient(225deg, #16144b 25%, transparent 25%), linear-gradient(45deg, #16144b 25%, transparent 25%), linear-gradient(315deg, #16144b 25%, #000000 25%);
        background-position:  40px 0, 40px 0, 0 0, 0 0;
        background-size: 80px 80px;
        background-repeat: repeat;
      }
      textarea{
          font-family: monospace;
          font-size: 125%;
          display: block;
          margin: 80px auto;
          padding: 16px;
          border: 1px solid orange;
          border-radius: 12px;
          box-shadow: 2px 1px 1px orange;
          background: rgba(248, 248, 255, 0.95);
          line-height: 110%;
      }
      .close-section-btn, #download{
          width: 20px;
          height: 20px;
          position: absolute;
          z-index: 9;
          outline: none;
          cursor: pointer;
          padding: 12px;
          left: calc(50% - 10px);
          top: 25px;
          color: gray;
        }

        #download{
          top: 8px;
          left: calc(50% + 45px);
          transform: scale(1.4);
        }

        #download:hover{
          transform: scale(1.75);
          transition: ease-out 0.125s;
          color: #17d46f;
        }

      .close-section-btn div{
        position: relative;
        width: 20px;
        height: 20px;
      }
      .close-section-btn div span{
          width: 24px;
          height: 4px;
          background-color: gray;
          position: absolute;
          transition: all 125ms ease-out;
      }
      .close-section-btn div span:first-of-type{
        transform: translate(-2px, 9px) rotate(45deg);
      }
      .close-section-btn div span:last-of-type{
        transform: translate(-2px, 9px) rotate(-45deg);
      }
      .cat_close{
        pointer-events: all !important;
      }
      .cat_close:hover div span:first-of-type, .close-section-btn:focus .cat_close div span:first-of-type{
        transform: translate(-2px, 9px) rotate(15deg);
        background-color: #cf484d;
      }
      .cat_close:hover div span:last-of-type, .close-section-btn:focus .cat_close div span:last-of-type{
        transform: translate(-2px, 9px) rotate(-15deg);
        background-color: #cf484d;
      }

      .pj-internal-content{
        transition: none;
        background-color: #fff;
      } 
    </style>
  </head>
  <body>
    <div class="close-section-btn" tabindex="0">
      <div class="cat_close">
        <div class="close-inner">
          <span></span>
          <span></span>
        </div>
      </div>
    </div>
    <p class="fa-solid fa-arrow-down" id="download" onclick="SaveTextFile()">
      â¬‡
    </p>
    <textarea rows="10" cols="75" placeholder="Type something..."></textarea>
  </body>
  <script>
    if(localStorage.getItem("TEXT")){
      document.querySelector("textarea").value = localStorage.getItem("TEXT"); 
    }
    window.addEventListener("keyup", () => {
      localStorage.setItem("TEXT", document.querySelector("textarea").value);
    });

    document.querySelector(".close-section-btn").addEventListener("click", () => {
      // if(confirm("Clear textbox?") == true) {
        document.querySelector("textarea").value = "";
        document.querySelector("textarea").focus();
        document.querySelector(".close-section-btn div span:first-of-type").style.transform = "transform: translate(-2px, 9px) rotate(15deg)";
        document.querySelector(".close-section-btn div span:last-of-type").style.transform = "transform: translate(-2px, 9px) rotate(-45deg)";
     // }
    });

    function SaveTextFile() {
      const textToSave = document.querySelector("textarea").value;
      const filename = window.prompt("Name file:");
      const blob = new Blob([textToSave], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }
  </script>
</html>
