
<!doctype html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png">
    <style>
      body {
        background-color: #000000;
        opacity: 0.9;
        background-image:  linear-gradient(135deg, #16144b 25%, transparent 25%), linear-gradient(225deg, #16144b 25%, transparent 25%), linear-gradient(45deg, #16144b 25%, transparent 25%), linear-gradient(315deg, #16144b 25%, #000000 25%);
        background-position:  40px 0, 40px 0, 0 0, 0 0;
        background-size: 80px 80px;
        background-repeat: repeat;
      }
      textarea{
          font-family: monospace;
          font-size: 125%;
          display: block;
          margin: 80px auto;
          padding: 16px;
          border: 1px solid orange;
          border-radius: 12px;
          box-shadow: 2px 1px 1px orange;
          background: rgba(248, 248, 255, 0.95);
          line-height: 110%;
      }
      .clear-text-btn, .copy-btn, .download-btn{
          width: 20px;
          height: 20px;
          position: absolute;
          z-index: 2;
          outline: none;
          cursor: pointer;
          padding: 12px;
          left: calc(50% - 50px);
          top: 25px;
          color: #5e5e5e;
        }
      .clear-text-btn div{
        position: relative;
        width: 20px;
        height: 20px;
      }
      .clear-text-btn div span{
          width: 24px;
          height: 4px;
          background-color: #5e5e5e;
          position: absolute;
          transition: all 125ms ease-out;
      }
      .clear-text-btn div span:first-of-type{
        transform: translate(-2px, 9px) rotate(45deg);
      }
      .clear-text-btn div span:last-of-type{
        transform: translate(-2px, 9px) rotate(-45deg);
      }
      .text_clear{
        pointer-events: all !important;
      }
      .text_clear:hover div span:first-of-type, .clear-text-btn:focus .text_clear div span:first-of-type{
        transform: translate(-2px, 9px) rotate(15deg);
        background-color: #cf484d;
      }
      .text_clear:hover div span:last-of-type, .clear-text-btn:focus .text_clear div span:last-of-type{
        transform: translate(-2px, 9px) rotate(-15deg);
        background-color: #cf484d;
      }
      .copy-btn{
        left: calc(50%);
        transform: scale(1.625) translateY(-1px);
      }
      .copy-btn sup{
        opacity: 0;
        font-weight: bold;
      }
      .copy-btn:hover{
        color: #2c82e6;
        transition: ease-out 0.125s;
        transform: scale(1.75);
      }
      .copy-btn:hover sup{
        opacity: 1;
        transition: ease-out 0.2s;
      }
      .download-btn{
          left: calc(50% + 50px);
          transform: scale(1.4) translateY(-1px);
      }
      .download-btn:hover, #download-btn:focus{
        transform: scale(1.75);
        transition: ease-out 0.125s;
        color: #17d46f;
      }
    </style>
  </head>
  <body>
    <div class="clear-text-btn" tabindex="0"><div class="text_clear"><div><span></span><span></span></div></div></div>
    <div class="copy-btn" tabindex="0" onclick="copyToClipboard(document.querySelector('textarea').value)">&#x2795<sup>+</sup></div>
    <div class="download-btn" onclick="SaveTextFile(document.querySelector('textarea').value);" tabindex="0">&#11015</div>
    <textarea rows="10" cols="75" placeholder="Type something..."></textarea>
  </body>
  <script>
    if(localStorage.getItem("TEXT")){
      document.querySelector("textarea").value = localStorage.getItem("TEXT"); 
    }
    window.addEventListener("keyup", () => {
      localStorage.setItem("TEXT", document.querySelector("textarea").value);
    });

    document.querySelector(".clear-text-btn").addEventListener("click", () => {
        document.querySelector("textarea").value = "";
        document.querySelector("textarea").focus();
        document.querySelector(".clear-text-btn div span:first-of-type").style.transform = "transform: translate(-2px, 9px) rotate(15deg)";
        document.querySelector(".clear-text-btn div span:last-of-type").style.transform = "transform: translate(-2px, 9px) rotate(-45deg)";
    });

    async function copyToClipboard(text) {
      try {
        await navigator.clipboard.writeText(text);
        console.log('Text copied to clipboard:', text);
      } catch (err) {
        console.error('Failed to copy text:', err);
      }
    }

  function SaveTextFile(text) {
    const fileName = window.prompt("Name your file: (.txt)");
    if(fileName && text){
      const filename = fileName;
      const blob = new Blob([text], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }
    else document.querySelector("textarea").focus();
  }
  </script>
</html>
