
<!doctype html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png">
    <style>
      body {
        background-color: #000000;
        opacity: 0.9;
        background-image:  linear-gradient(135deg, #16144b 25%, transparent 25%), linear-gradient(225deg, #16144b 25%, transparent 25%), linear-gradient(45deg, #16144b 25%, transparent 25%), linear-gradient(315deg, #16144b 25%, #000000 25%);
        background-position:  40px 0, 40px 0, 0 0, 0 0;
        background-size: 80px 80px;
        background-repeat: repeat;
      }
      textarea{
          width: 33vw;
          height: 300px;
          font-family: monospace;
          font-size: 125%;
          display: block;
          margin: 80px auto;
          padding: 16px;
          border: 1px solid black;
          border-radius: 12px;
          border-bottom-right-radius: 2px;
          box-shadow: 2px 1px 1px black;
          background: rgba(248, 248, 255, 0.95);
          line-height: 110%;
      }
      .clear-text-btn, .copy-btn, .download-btn{
          width: 20px;
          height: 20px;
          position: absolute;
          z-index: 2;
          outline: none;
          cursor: pointer;
          padding: 12px;
          left: calc(50% - 70px);
          top: 25px;
          color: #fff;
        }
      .clear-text-btn div{
        position: relative;
        width: 20px;
        height: 20px;
      }
      .clear-text-btn div span{
          width: 24px;
          height: 4px;
          background-color: #fff;
          position: absolute;
          transition: all 125ms ease-out;
      }
      .clear-text-btn div span:first-of-type{
        transform: translate(-2px, 9px) rotate(45deg);
      }
      .clear-text-btn div span:last-of-type{
        transform: translate(-2px, 9px) rotate(-45deg);
      }
      .text_clear{
        pointer-events: all !important;
      }
      .text_clear:hover div span:first-of-type{
        transform: translate(-2px, 9px) rotate(15deg);
        background-color: #cf484d;
      }
      .text_clear:hover div span:last-of-type{
        transform: translate(-2px, 9px) rotate(-15deg);
        background-color: #cf484d;
      }
      .copy-btn{
        left: calc(50% - 20px);
        transform: scale(1.625) translateY(-1px);
        filter:brightness(10);
      }
      .copy-btn sup{
        opacity: 0;
        font-weight: bold;
      }
      .copy-btn:hover{
        color: #2c82e6;
        transition: ease-out 0.25s;
        transform: scale(1.75);
        filter:brightness(1);
      }
      .copy-btn:hover sup{
        opacity: 1;
        transition: ease-out 0.25s;
        filter:brightness(2);
      }
      .download-btn{
          left: calc(50% + 30px);
          transform: scale(1.4) translateY(-1px);
      }
      .download-btn:hover{
        transform: scale(1.75);
        transition: ease-out 0.125s;
        color: #17d46f;
      }
      @media (max-width:640px){
        textarea{
          width: 67vw;
          height: 80vh;
         }
      }
    </style>
  </head>
  <body>
    <div class="clear-text-btn" onclick="ClearText()"><div class="text_clear"><div><span></span><span></span></div></div></div>
    <div class="copy-btn" onclick="CopyToClipboard(document.querySelector('textarea').value)">&#x2795<sup>+</sup></div>
    <div class="download-btn" onclick="SaveTextFile(document.querySelector('textarea').value)">&#11015</div>
    <textarea placeholder="Type something..."></textarea>
  </body>
  <script>
    if(localStorage.getItem("TEXT")){
      document.querySelector("textarea").value = localStorage.getItem("TEXT"); 
    }
    
    window.addEventListener("keyup", () => {
      localStorage.setItem("TEXT", document.querySelector("textarea").value);
    });

    if(Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0) < 640){
       document.querySelector("textarea").cols = 24;
       document.querySelector("textarea").rows = 48;
    };

    function ClearText(){
      document.querySelector(".clear-text-btn div span:first-of-type").style.transform = "transform: translate(-2px, 9px) rotate(15deg)";
      document.querySelector(".clear-text-btn div span:last-of-type").style.transform = "transform: translate(-2px, 9px) rotate(-45deg)";
      document.querySelector("textarea").value = "";
      document.querySelector("textarea").focus();
    }

    async function CopyToClipboard(text){
      try {
        await navigator.clipboard.writeText(text);
      } catch (err) {
        console.error('Failed to copy text:', err);
      }
      document.querySelector("textarea").focus();
    }

    function SaveTextFile(text){
      const fileName = window.prompt("Name your file: (.txt)");
      if(fileName && text){
        const filename = fileName;
        const blob = new Blob([text], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }
      else document.querySelector("textarea").focus();
    }  
  </script>
</html>
